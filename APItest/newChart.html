<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>ECharts</title>
    <!-- 引入刚刚下载的 ECharts 文件 -->
    <script src="echarts.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  </head>
  <body>
    <!-- 为 ECharts 准备一个定义了宽高的 DOM -->
    <div id="main" style="width: 600px;height:400px;"></div>
    <script type="text/javascript">
        var dataSet;
                $.ajax({
                    url:"http://127.0.0.1:5000/topKGames/" + 10,
                    type: 'GET',
                    headers:{'Content-type' : 'application/json'},
                    cache: false,
                    dataType : 'html',
                    processData : false,
                    contentType : 'application/json',
                    success: function (r){
                        dataSet = JSON.parse(r).gameAndViewerGraph;
                        console.log(dataSet);
                        console.log(typeof dataSet[0]);
                        console.log(dataSet[0]);
                    }
                })


      // 基于准备好的dom，初始化echarts实例
      var myChart = echarts.init(document.getElementById('main'));


        var result = [];
        for(var i in dataSet)
            result.push([i, dataSet [i]]);
      // 指定图表的配置项和数据
      var option = {
  legend: {
    // Try 'horizontal'
    orient: 'vertical',
    right: 10,
    top: 'center'
  },
  dataset: {
    source: [
      ['product', '2015', '2016', '2017'],
      ['Matcha Latte', 43.3, 85.8, 93.7],
      ['Milk Tea', 83.1, 73.4, 55.1],
      ['Cheese Cocoa', 86.4, 65.2, 82.5],
      ['Walnut Brownie', 72.4, 53.9, 39.1]
    ]
  },
  xAxis: { type: 'category' },
  yAxis: {},
  series: [{ type: 'bar' }, { type: 'bar' }, { type: 'bar' }]
};

      // 使用刚指定的配置项和数据显示图表。
      myChart.setOption(option);
    </script>
  </body>
</html>